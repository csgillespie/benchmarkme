<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crowd sourced benchmarks • benchmarkme</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Crowd sourced benchmarks">
<meta property="og:description" content="benchmarkme">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">benchmarkme</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_introduction.html">Crowd sourced benchmarks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/csgillespie/benchmarkme/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="a_introduction_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Crowd sourced benchmarks</h1>
                        <h4 class="author">Colin Gillespie</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/csgillespie/benchmarkme/blob/master/vignettes/a_introduction.Rmd"><code>vignettes/a_introduction.Rmd</code></a></small>
      <div class="hidden name"><code>a_introduction.Rmd</code></div>

    </div>

    
    
<div id="system-benchmarking" class="section level1">
<h1 class="hasAnchor">
<a href="#system-benchmarking" class="anchor"></a>System benchmarking</h1>
<p>R benchmarking made easy. The package contains a number of benchmarks, heavily based on the benchmarks at <a href="https://mac.R-project.org/benchmarks/R-benchmark-25.R" class="uri">https://mac.R-project.org/benchmarks/R-benchmark-25.R</a>, for assessing the speed of your system.</p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>A straightforward way of speeding up your analysis is to buy a better computer. Modern desktops are relatively cheap, especially compared to user time. However, it isn’t clear if upgrading your computing is worth the cost. The <strong>benchmarkme</strong> package provides a set of benchmarks to help quantify your system. More importantly, it allows you to compare your timings with <em>other</em> systems.</p>
<!-- You can view past benchmarks via the [Shiny](https://jumpingrivers.shinyapps.io/benchmarkme/) interface. -->
</div>
<div id="overview-1" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-1" class="anchor"></a>Overview</h2>
<p>The package is on <a href="https://cran.r-project.org/package=benchmarkme">CRAN</a> and can be installed in the usual way</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"benchmarkme"</span><span class="op">)</span></code></pre></div>
<p>There are two groups of benchmarks:</p>
<ul>
<li>
<code><a href="../reference/benchmark_std.html">benchmark_std()</a></code>: this benchmarks numerical operations such as loops and matrix operations. The benchmark comprises of three separate benchmarks: <code>prog</code>, <code>matrix_fun</code>, and <code>matrix_cal</code>.</li>
<li>
<code><a href="../reference/benchmark_io.html">benchmark_io()</a></code>: this benchmarks reading and writing a 5 / 50, MB csv file.</li>
</ul>
<div id="the-benchmark_std-function" class="section level3">
<h3 class="hasAnchor">
<a href="#the-benchmark_std-function" class="anchor"></a>The benchmark_std() function</h3>
<p>This benchmarks numerical operations such as loops and matrix operations. This benchmark comprises of three separate benchmarks: <code>prog</code>, <code>matrix_fun</code>, and <code>matrix_cal</code>. If you have less than 3GB of RAM (run <code><a href="../reference/get_ram.html">get_ram()</a></code> to find out how much is available on your system), then you should kill any memory hungry applications, e.g. firefox, and set <code>runs = 1</code> as an argument.</p>
<p>To benchmark your system, use</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/csgillespie/benchmarkme">"benchmarkme"</a></span><span class="op">)</span>
<span class="co">## Increase runs if you have a higher spec machine</span>
<span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="../reference/benchmark_std.html">benchmark_std</a></span><span class="op">(</span>runs <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p>and upload your results</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## You can control exactly what is uploaded. See details below.</span>
<span class="fu"><a href="../reference/create_bundle.html">upload_results</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></code></pre></div>
<p>You can compare your results to other users via</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></code></pre></div>
<!-- You can also compare your results using the [Shiny](https://jumpingrivers.shinyapps.io/benchmarkme/) interface.  -->
<!-- Simply create a results bundle -->
<!-- ```{r, eval=FALSE} -->
<!-- create_bundle(res, filename = "results.rds") -->
<!-- ``` -->
<!-- and upload to the webpage. -->
</div>
<div id="the-benchmark_io-function" class="section level3">
<h3 class="hasAnchor">
<a href="#the-benchmark_io-function" class="anchor"></a>The benchmark_io() function</h3>
<p>This function benchmarks reading and writing a 5MB or 50MB (if you have less than 4GB of RAM, reduce the number of <code>runs</code> to 1). Run the benchmark using</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res_io</span> <span class="op">=</span> <span class="fu"><a href="../reference/benchmark_io.html">benchmark_io</a></span><span class="op">(</span>runs <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="../reference/create_bundle.html">upload_results</a></span><span class="op">(</span><span class="va">res_io</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res_io</span><span class="op">)</span></code></pre></div>
<p>By default the files are written to a temporary directory generated</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>which depends on the value of</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"TMPDIR"</span><span class="op">)</span></code></pre></div>
<p>You can alter this to via the <code>tmpdir</code> argument. This is useful for comparing hard drive access to a network drive.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res_io</span> <span class="op">=</span> <span class="fu"><a href="../reference/benchmark_io.html">benchmark_io</a></span><span class="op">(</span>tmpdir <span class="op">=</span> <span class="st">"some_other_directory"</span><span class="op">)</span></code></pre></div>
</div>
<div id="parallel-benchmarks" class="section level3">
<h3 class="hasAnchor">
<a href="#parallel-benchmarks" class="anchor"></a>Parallel benchmarks</h3>
<p>The benchmark functions above have a parallel option - just simply specify the number of cores you want to test. For example to test using four cores</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res_io</span> <span class="op">=</span> <span class="fu"><a href="../reference/benchmark_std.html">benchmark_std</a></span><span class="op">(</span>runs <span class="op">=</span> <span class="fl">3</span>, cores <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<p>The process for the parallel benchmarks of the pseudo function <code>benchmark_x(cores = n)</code> is: - initialise the parallel environment - Start timer - Run job x in core 1, 2, …, n simultaneously - when <strong>all</strong> jobs finish stop timer - stop parallel environment This procedure is repeat <code>runs</code> times.</p>
</div>
</div>
<div id="previous-versions-of-this" class="section level2">
<h2 class="hasAnchor">
<a href="#previous-versions-of-this" class="anchor"></a>Previous versions of this</h2>
<p>This package was started around 2015. However, multiple changes in the byte compiler over the last few years, has made it very difficult to use previous results. So we have to start from scratch.</p>
<p>The previous data can be obtained via</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">past_results</span>, package <span class="op">=</span> <span class="st">"benchmarkmeData"</span><span class="op">)</span></code></pre></div>
</div>
<div id="machine-specs" class="section level2">
<h2 class="hasAnchor">
<a href="#machine-specs" class="anchor"></a>Machine specs</h2>
<p>The package has a few useful functions for extracting system specs:</p>
<ul>
<li>RAM: <code><a href="../reference/get_ram.html">get_ram()</a></code>
</li>
<li>CPUs: <code><a href="../reference/get_cpu.html">get_cpu()</a></code>
</li>
<li>BLAS library: <code><a href="../reference/get_linear_algebra.html">get_linear_algebra()</a></code>
</li>
<li>Is byte compiling enabled: <code><a href="../reference/get_byte_compiler.html">get_byte_compiler()</a></code>
</li>
<li>General platform info: <code><a href="../reference/get_platform_info.html">get_platform_info()</a></code>
</li>
<li>R version: <code><a href="../reference/get_r_version.html">get_r_version()</a></code>
</li>
</ul>
<p>The above functions have been tested on a number of systems. If they don’t work on your system, please raise <a href="https://github.com/csgillespie/benchmarkme/issues">GitHub</a> issue.</p>
</div>
<div id="uploaded-data-sets" class="section level2">
<h2 class="hasAnchor">
<a href="#uploaded-data-sets" class="anchor"></a>Uploaded data sets</h2>
<p>A summary of the uploaded data sets is available in the <a href="https://github.com/csgillespie/benchmarkme-data">benchmarkmeData</a> package</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">past_results_v2</span>, package <span class="op">=</span> <span class="st">"benchmarkmeData"</span><span class="op">)</span></code></pre></div>
<p>A column of this data set, contains the unique identifier returned by the <code><a href="../reference/create_bundle.html">upload_results()</a></code> function.</p>
</div>
<div id="whats-uploaded" class="section level2">
<h2 class="hasAnchor">
<a href="#whats-uploaded" class="anchor"></a>What’s uploaded</h2>
<p>Two objects are uploaded:</p>
<ol style="list-style-type: decimal">
<li>Your benchmarks from <code><a href="../reference/benchmark_std.html">benchmark_std()</a></code> or <code><a href="../reference/benchmark_io.html">benchmark_io()</a></code>;</li>
<li>A summary of your system information (<code><a href="../reference/get_sys_details.html">get_sys_details()</a></code>).</li>
</ol>
<p>The <code><a href="../reference/get_sys_details.html">get_sys_details()</a></code> returns:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/Sys.info.html">Sys.info()</a></code>;</li>
<li>
<code><a href="../reference/get_platform_info.html">get_platform_info()</a></code>;</li>
<li>
<code><a href="../reference/get_r_version.html">get_r_version()</a></code>;</li>
<li>
<code><a href="../reference/get_ram.html">get_ram()</a></code>;</li>
<li>
<code><a href="../reference/get_cpu.html">get_cpu()</a></code>;</li>
<li>
<code><a href="../reference/get_byte_compiler.html">get_byte_compiler()</a></code>;</li>
<li>
<code><a href="../reference/get_linear_algebra.html">get_linear_algebra()</a></code>;</li>
<li>
<code><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages()</a></code>;</li>
<li>
<code><a href="https://rdrr.io/r/base/locales.html">Sys.getlocale()</a></code>;</li>
<li>The <code>benchmarkme</code> version number;</li>
<li>Unique ID - used to extract results;</li>
<li>The current date.</li>
</ul>
<p>The function <code><a href="https://rdrr.io/r/base/Sys.info.html">Sys.info()</a></code> does include the user and nodenames. In the public release of the data, this information will be removed. If you don’t wish to upload certain information, just set the corresponding argument, i.e.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/create_bundle.html">upload_results</a></span><span class="op">(</span><span class="va">res</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>sys_info <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<hr>
<p>Development of this package was supported by <a href="https://www.jumpingrivers.com">Jumping Rivers</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Colin Gillespie.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
